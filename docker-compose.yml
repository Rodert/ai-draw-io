version: "3.9"

services:
  web:
    build: .
    container_name: ai-draw-io-web
    # 将容器内 5173 端口映射到宿主机 5173
    ports:
      - "5173:5173"
    # 挂载代码目录，支持热更新；同时单独挂载 node_modules 避免被宿主机覆盖
    volumes:
      - .:/app
      - /app/node_modules
    environment:
      - NODE_ENV=development
    # 显式指定命令，保证 Vite 监听 0.0.0.0
    command: npm run dev -- --host 0.0.0.0 --port 5173
